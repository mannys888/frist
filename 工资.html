<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘˜å·¥å‘å·¥èµ„æµæ°´è®°å½•ç³»ç»Ÿ - å¢å¼ºé€šçŸ¥åŠŸèƒ½</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #2c3e50;
            margin: 20px 0 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #4b6cb7;
        }
        
        h3 {
            color: #34495e;
            margin: 15px 0 10px;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 25px;
        }
        
        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }
        
        .login-container {
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }
        
        .login-form {
            margin-top: 20px;
        }
        
        .login-form input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .login-form button {
            width: 100%;
            padding: 12px;
            background: #4b6cb7;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .login-form button:hover {
            background: #3a5699;
        }
        
        .error-message {
            color: #e74c3c;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }
        
        .stats {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-box {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            color: white;
            font-weight: bold;
        }
        
        .total-salary {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .avg-salary {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
        }
        
        .employee-count {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }
        
        .stat-box h3 {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: white;
        }
        
        .stat-box .amount {
            font-size: 1.8rem;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #444;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #4b6cb7;
            outline: none;
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #4b6cb7;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3a5699;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .btn-success {
            background: #2ecc71;
            color: white;
        }
        
        .btn-success:hover {
            background: #27ae60;
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        th {
            background-color: #f8f9fa;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 2px solid #eaeaea;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eaeaea;
        }
        
        tr:hover {
            background-color: #f9f9f9;
        }
        
        .date-group {
            margin-bottom: 30px;
        }
        
        .date-header {
            background-color: #f1f5f9;
            padding: 10px 15px;
            font-weight: bold;
            color: #2c3e50;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .date-total {
            color: #4b6cb7;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #7f8c8d;
        }
        
        .salary-paid {
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .type-paid {
            background-color: rgba(46, 204, 113, 0.1);
            color: #27ae60;
        }
        
        .type-day {
            background-color: rgba(52, 152, 219, 0.1);
            color: #2980b9;
        }
        
        .type-week {
            background-color: rgba(155, 89, 182, 0.1);
            color: #8e44ad;
        }
        
        .type-month {
            background-color: rgba(241, 196, 15, 0.1);
            color: #f39c12;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .current-date {
            font-size: 1.1rem;
            margin-top: 5px;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .total-amount {
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .user-info {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-content h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .modal-actions button {
            flex: 1;
        }
        
        .modal-error {
            color: #e74c3c;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }
        
        .readonly-note {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #7f8c8d;
            border-left: 4px solid #95a5a6;
        }
        
        .management-section {
            border-top: 1px solid #eee;
            margin-top: 25px;
            padding-top: 20px;
        }
        
        .employee-summary {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }
        
        .employee-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            border-left: 4px solid #4b6cb7;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .employee-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .employee-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .employee-salary {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.1rem;
        }
        
        .record-note {
            font-size: 0.85rem;
            color: #7f8c8d;
            margin-top: 5px;
        }
        
        .locked-icon {
            color: #95a5a6;
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .pay-unit {
            display: flex;
            gap: 10px;
        }
        
        .pay-unit select {
            flex: 1;
        }
        
        .employee-row {
            border-left: 4px solid #3498db;
        }
        
        /* é€šçŸ¥ç³»ç»Ÿæ ·å¼ */
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
        }
        
        .notification {
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            animation: slideIn 0.3s ease-out;
            display: flex;
            flex-direction: column;
            border-left: 5px solid #4b6cb7;
            background: blue;
            max-width: 400px;
            transition: all 0.3s;
        }
        
        .notification.success {
            border-left-color: #2ecc71;
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1), rgba(39, 174, 96, 0.05));
        }
        
        .notification.warning {
            border-left-color: #f39c12;
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.1), rgba(230, 126, 34, 0.05));
        }
        
        .notification.error {
            border-left-color: #e74c3c;
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1), rgba(192, 57, 43, 0.05));
        }
        
        .notification.info {
            border-left-color: #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.05));
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .notification-title {
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .notification-icon {
            font-size: 1.2rem;
        }
        
        .notification-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #7f8c8d;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .notification-close:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .notification-content {
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .notification-details {
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .notification-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .notification-detail-label {
            color: #7f8c8d;
        }
        
        .notification-detail-value {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .notification-success-value {
            color: #27ae60;
        }
        
        .notification-danger-value {
            color: #e74c3c;
        }
        
        .notification-progress {
            height: 4px;
            background-color: #eee;
            border-radius: 2px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .notification-progress-bar {
            height: 100%;
            width: 100%;
            background-color: #4b6cb7;
            animation: progressBar 5s linear forwards;
        }
        
        .notification.success .notification-progress-bar {
            background-color: #2ecc71;
        }
        
        .notification.warning .notification-progress-bar {
            background-color: #f39c12;
        }
        
        .notification.error .notification-progress-bar {
            background-color: #e74c3c;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes progressBar {
            from {
                width: 100%;
            }
            to {
                width: 0%;
            }
        }
        
        .notification.fade-out {
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s;
        }
        
        .admin-mode {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        .admin-mode h1::after {
            content: " ğŸ”’ ç®¡ç†å‘˜æ¨¡å¼";
            font-size: 1rem;
        }
        
        .admin-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .admin-controls select {
            flex: 1;
            min-width: 200px;
        }
        
        .record-actions {
            display: flex;
            gap: 5px;
        }
        
        .selected-employee {
            background-color: #3498db;
            color: white;
        }
        
        .selected-employee .employee-name,
        .selected-employee .employee-salary {
            color: white;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tab-container {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid #4b6cb7;
            font-weight: bold;
            color: #4b6cb7;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .employee-management {
            margin-top: 20px;
        }
        
        .employee-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .employee-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .employee-list-item:hover {
            background-color: #f9f9f9;
        }
        
        .employee-stats {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .delete-confirm {
            color: #e74c3c;
            font-size: 0.9rem;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <!-- é€šçŸ¥å®¹å™¨ -->
    <div class="notification-container" id="notificationContainer"></div>
    
    <!-- ç™»å½•é¡µé¢ -->
    <div id="loginPage" class="login-container">
        <header>
            <h1>ğŸ”’ å‘˜å·¥å·¥èµ„å‘æ”¾æµæ°´ç³»ç»Ÿ</h1>
            <p class="current-date" id="currentDate">æ­£åœ¨åŠ è½½æ—¥æœŸ...</p>
        </header>
        
        <div class="card">
            <h2>ç³»ç»Ÿç™»å½•</h2>
            <p style="margin-bottom: 20px;">è¯·è¾“å…¥å¯†ç ä»¥è®¿é—®å‘˜å·¥å·¥èµ„å‘æ”¾è®°å½•ç³»ç»Ÿ</p>
            
            <div class="login-form">
                <input type="password" id="loginPassword" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç ">
                <div class="error-message" id="loginError">å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼</div>
                <button id="loginBtn">ç™»å½•ç³»ç»Ÿ</button>
            </div>
            
            <div style="margin-top: 20px; font-size: 0.9rem; color: #7f8c8d;">
                <p><strong>ç³»ç»Ÿç‰¹ç‚¹ï¼š</strong></p>
                <p>1. æ™®é€šç”¨æˆ·åªèƒ½æŸ¥çœ‹è®°å½•ï¼Œä¸èƒ½ä¿®æ”¹åˆ é™¤</p>
                <p>2. ç®¡ç†å‘˜å¯ä»¥ç®¡ç†å‘˜å·¥è®°å½•ï¼ŒåŒ…æ‹¬åˆ é™¤</p>
                <p>3. é¦–æ¬¡ä½¿ç”¨é»˜è®¤å¯†ç ä¸º <strong>admin123</strong></p>
            </div>
        </div>
    </div>
    
    <!-- ä¸»åº”ç”¨é¡µé¢ï¼ˆé»˜è®¤éšè—ï¼‰ -->
    <div id="mainApp" style="display: none;">
        <header id="mainHeader">
            <div class="user-info">
                <span>å·²ç™»å½• | <span id="username">ç®¡ç†å‘˜</span></span>
                <button class="logout-btn" id="logoutBtn">é€€å‡º</button>
                <button class="logout-btn" id="toggleAdminBtn" style="display: none;">è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼</button>
            </div>
            <h1>ğŸ’° å‘˜å·¥å·¥èµ„å‘æ”¾æµæ°´è´¦ç³»ç»Ÿ</h1>
            <div class="current-date" id="currentDateMain">æ­£åœ¨åŠ è½½æ—¥æœŸ...</div>
        </header>
        
        <div class="tab-container">
            <div class="tab active" id="tabRecords">ğŸ“‹ è®°å½•ç®¡ç†</div>
            <div class="tab" id="tabAdmin">âš™ï¸ ç³»ç»Ÿç®¡ç†</div>
            <div class="tab" id="tabEmployees">ğŸ‘¥ å‘˜å·¥ç®¡ç†</div>
        </div>
        
        <div class="tab-content active" id="tabRecordsContent">
            <div class="container">
                <div class="left-column">
                    <div class="card">
                        <h2>ğŸ“ æ·»åŠ å·¥èµ„å‘æ”¾è®°å½•</h2>
                        <form id="recordForm">
                            <div class="form-group">
                                <label for="date">å‘æ”¾æ—¥æœŸ</label>
                                <input type="date" id="date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="employee">é€‰æ‹©å‘˜å·¥</label>
                                <select id="employee" required>
                                    <option value="">è¯·é€‰æ‹©å‘˜å·¥</option>
                                    <!-- å‘˜å·¥åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="amount">å·¥èµ„é‡‘é¢ (å…ƒ)</label>
                                <input type="number" id="amount" min="0" step="0.01" placeholder="0.00" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="payUnit">å‘æ”¾å•ä½</label>
                                <div class="pay-unit">
                                    <select id="payUnit" required>
                                        <option value="day">æ—¥è–ª</option>
                                        <option value="week">å‘¨è–ª</option>
                                        <option value="month" selected>æœˆè–ª</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="description">å¤‡æ³¨è¯´æ˜</label>
                                <textarea id="description" rows="3" placeholder="ä¾‹å¦‚ï¼š3æœˆä»½å·¥èµ„ã€é¡¹ç›®å¥–é‡‘ã€åŠ ç­è´¹ç­‰..."></textarea>
                            </div>
                            
                            <div class="actions">
                                <button type="submit" class="btn btn-primary">
                                    ğŸ’¾ ä¿å­˜å·¥èµ„è®°å½•
                                </button>
                                <button type="button" id="clearForm" class="btn">
                                    ğŸ§¹ æ¸…ç©ºè¡¨å•
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="card">
                        <h2>ğŸ“Š å·¥èµ„ç»Ÿè®¡</h2>
                        <div class="stats">
                            <div class="stat-box total-salary">
                                <h3>æ€»å‘æ”¾å·¥èµ„</h3>
                                <div class="amount" id="totalSalary">0.00</div>
                            </div>
                            <div class="stat-box avg-salary">
                                <h3>å¹³å‡å·¥èµ„</h3>
                                <div class="amount" id="avgSalary">0.00</div>
                            </div>
                            <div class="stat-box employee-count">
                                <h3>å‘˜å·¥æ•°é‡</h3>
                                <div class="amount" id="employeeCount">0</div>
                            </div>
                        </div>
                        
                        <h3>æœ¬æœˆç»Ÿè®¡</h3>
                        <div class="stats">
                            <div class="stat-box total-salary" style="min-width: 100%;">
                                <h3>æœ¬æœˆå‘æ”¾å·¥èµ„</h3>
                                <div class="amount" id="monthSalary">0.00</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h2>ğŸ‘¥ å‘˜å·¥å·¥èµ„æ±‡æ€»</h2>
                        <div class="employee-summary" id="employeeSummary">
                            <!-- å‘˜å·¥å·¥èµ„æ±‡æ€»å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
                
                <div class="right-column">
                    <div class="card">
                        <h2>ğŸ“‹ å·¥èµ„å‘æ”¾è®°å½•</h2>
                        
                        <!-- ç®¡ç†å‘˜æ§åˆ¶ -->
                        <div class="admin-controls" id="adminControls" style="display: none;">
                            <select id="filterEmployee">
                                <option value="">æ‰€æœ‰å‘˜å·¥</option>
                                <!-- å‘˜å·¥ç­›é€‰åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </select>
                            <select id="filterPeriod">
                                <option value="all">æ‰€æœ‰æ—¶é—´</option>
                                <option value="today">ä»Šå¤©</option>
                                <option value="week">æœ¬å‘¨</option>
                                <option value="month">æœ¬æœˆ</option>
                                <option value="year">æœ¬å¹´</option>
                            </select>
                            <button class="btn btn-sm btn-danger" id="deleteSelected" style="display: none;">åˆ é™¤é€‰ä¸­è®°å½•</button>
                        </div>
                        
                        <div id="recordsContainer">
                            <div class="empty-state" id="emptyState">
                                <h3>æš‚æ— å·¥èµ„å‘æ”¾è®°å½•</h3>
                                <p>æ·»åŠ å·¥èµ„å‘æ”¾è®°å½•å¼€å§‹è¿½è¸ªå‘˜å·¥å·¥èµ„æƒ…å†µ</p>
                            </div>
                            
                            <div id="recordsList">
                                <!-- æŒ‰æ—¥æœŸåˆ†ç»„çš„è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="tabAdminContent">
            <div class="card">
                <h2>âš™ï¸ ç³»ç»Ÿè®¾ç½®</h2>
                <div id="passwordChangeSection">
                    <div class="form-group">
                        <label for="newPassword">æ–°å¯†ç </label>
                        <input type="password" id="newPassword" placeholder="è¾“å…¥æ–°å¯†ç ">
                    </div>
                    <div class="form-group">
                        <label for="confirmNewPassword">ç¡®è®¤æ–°å¯†ç </label>
                        <input type="password" id="confirmNewPassword" placeholder="å†æ¬¡è¾“å…¥æ–°å¯†ç ">
                    </div>
                    <div class="actions">
                        <button id="updatePasswordBtn" class="btn btn-primary">
                            ğŸ” æ›´æ–°å¯†ç 
                        </button>
                    </div>
                </div>
                
                <div id="systemInfo" style="margin-top: 30px;">
                    <h3>ç³»ç»Ÿä¿¡æ¯</h3>
                    <p><strong>è®°å½•æ€»æ•°ï¼š</strong> <span id="totalRecords">0</span> æ¡</p>
                    <p><strong>æ•°æ®å¤§å°ï¼š</strong> <span id="dataSize">0 KB</span></p>
                    <p><strong>æœ€åæ›´æ–°ï¼š</strong> <span id="lastUpdate">æš‚æ— </span></p>
                    <p><strong>ä½¿ç”¨æç¤ºï¼š</strong> æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œæ¸…é™¤æµè§ˆå™¨æ•°æ®å°†å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p>
                </div>
                
                <div class="management-section">
                    <h2>ğŸ—‘ï¸ æ•°æ®ç®¡ç†</h2>
                    <div class="readonly-note">
                        <p><strong>æ³¨æ„ï¼š</strong>ä»¥ä¸‹æ“ä½œéœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œæ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…æ“ä½œã€‚</p>
                    </div>
                    
                    <div class="action-buttons">
                        <button type="button" id="exportData" class="btn btn-success">
                            ğŸ“¥ å¯¼å‡ºå·¥èµ„æ•°æ®
                        </button>
                        <button type="button" id="deleteAll" class="btn btn-danger">
                            ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰è®°å½•
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="tabEmployeesContent">
            <div class="card">
                <h2>ğŸ‘¥ å‘˜å·¥ç®¡ç†</h2>
                <p>åœ¨è¿™é‡Œå¯ä»¥ç®¡ç†æ‰€æœ‰å‘˜å·¥çš„å·¥èµ„è®°å½•</p>
                
                <div class="employee-management">
                    <div class="admin-controls">
                        <select id="selectEmployeeManage">
                            <option value="">é€‰æ‹©è¦ç®¡ç†çš„å‘˜å·¥</option>
                            <!-- å‘˜å·¥ç®¡ç†åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </select>
                        <button class="btn btn-danger" id="deleteEmployeeRecords">åˆ é™¤è¯¥å‘˜å·¥æ‰€æœ‰è®°å½•</button>
                    </div>
                    
                    <div class="delete-confirm" id="deleteConfirm">
                        ç¡®å®šè¦åˆ é™¤å‘˜å·¥ <span id="employeeToDelete"></span> çš„æ‰€æœ‰è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼
                        <div style="margin-top: 10px;">
                            <button class="btn btn-sm btn-danger" id="confirmDeleteEmployee">ç¡®è®¤åˆ é™¤</button>
                            <button class="btn btn-sm" id="cancelDeleteEmployee">å–æ¶ˆ</button>
                        </div>
                    </div>
                    
                    <div id="employeeRecordsContainer" style="margin-top: 20px;">
                        <div class="empty-state" style="display: none;" id="noEmployeeSelected">
                            <h3>è¯·é€‰æ‹©è¦ç®¡ç†çš„å‘˜å·¥</h3>
                            <p>ä»ä¸Šæ–¹ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå‘˜å·¥æŸ¥çœ‹å’Œç®¡ç†å…¶è®°å½•</p>
                        </div>
                        
                        <div id="employeeRecordsList">
                            <!-- å‘˜å·¥è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>å‘˜å·¥å·¥èµ„å‘æ”¾æµæ°´è´¦ç³»ç»Ÿ &copy; 2023 | æ™®é€šç”¨æˆ·åªèƒ½æŸ¥çœ‹è®°å½•ï¼Œç®¡ç†å‘˜å¯ä»¥ç®¡ç†è®°å½•</p>
        </footer>
    </div>
    
    <!-- å¯†ç éªŒè¯æ¨¡æ€æ¡† -->
    <div id="passwordModal" class="password-modal">
        <div class="modal-content">
            <h3>ğŸ” éªŒè¯ç®¡ç†å¯†ç </h3>
            <p>æ­¤æ“ä½œéœ€è¦éªŒè¯ç®¡ç†å¯†ç </p>
            <input type="password" id="modalPassword" placeholder="è¯·è¾“å…¥ç®¡ç†å¯†ç " style="width: 100%; padding: 12px; margin: 15px 0;">
            <div class="modal-error" id="modalError">å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼</div>
            <div class="modal-actions">
                <button id="confirmAction" class="btn btn-danger">ç¡®è®¤æ‰§è¡Œ</button>
                <button id="cancelAction" class="btn">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–å˜é‡
        let records = [];
        let isLoggedIn = false;
        let isAdminMode = false;
        let pendingAction = null; // å¾…æ‰§è¡Œçš„æ“ä½œ
        let selectedEmployeeForDeletion = null; // å¾…åˆ é™¤å‘˜å·¥
        
        // é»˜è®¤å¯†ç 
        const DEFAULT_PASSWORD = "admin123";
        
        // å‘˜å·¥åˆ—è¡¨
        let employees = [
            "Isaack-1",
	"Frankie-3",
	"Jefrey-4",
	"Raffic-10",
	"Saidi-24",
	"David-27",
	"Moses-28",
	"Promise-31",
	"Lourence-33",
	"Affan-34",
	"Poolo-35",
	"Aidu-37",
	"Johan-42",
	"Howard-4",
	"Lenard -36",
	"Charles-45",
	"Ruth C 2",
	"Tokko C3",
	"Promise C 4",
	"Christina C 5",
	"Martha C 6",
	"Thomas C8",
	"Paress C9",
	"Ismail C10",
	"Bashiru C11",
	"Loveness C13",
	"Mariam C18",
	"Jabai Said C19",
	"ChristoffC 21",
	"Rejoyce C 22",
	"Mercy C23",
	"Leo C25",
	"Fortunate C26",
	"Selina C28",
	"Tadiwanosch C29",
	"Mphatso C30",
	"Adumu C31",
	"AHMD C32",
	"InokC36",
	"Mathews C42",
	"John Gomo C43",
	"Terrence 9",
	"Cams 12",
         "lsaack-1",
	"Terrence-9",
	"Raffic-10",
	"Cams -12",
	"Mike-21",
	"Saidi-24",
	"David-27",
	"Moses-28",
	"Promise-31",
	"Affan-34",
	"Aidu-37",
	"Johan-42",
	"Charles-45",
	"RATIDZAI C2",
        "SHAHDIUC3",
	"Promise C4",
	"Martha C6",
	"Thomas C8",
	"Paress C9",
	"Ismail C10",
	"Bashiru C11",
	"Mariam C18",
	"Jabai Sai C19",
	"Rejoyce C22",
	"Leo C25",
	"Fortunate C26",
	"Selina C28",
	"Tadiwanosch C29",
	"Mphatso C30",
	"Adumu C31",
	"AHMD C32",
	"Inok C36",
	"Mathews C42",
	"John Gomo C43",
	"Thomas C48",
	"JOEL C62",
	"JOJI C63",
	"DUWQ C64",
	"GRANT C65"
	
        ];
        
        // å‘æ”¾å•ä½æ˜ å°„
        const payUnitNames = {
            "day": "æ—¥è–ª",
            "week": "å‘¨è–ª",
            "month": "æœˆè–ª"
        };
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®å½“å‰æ—¥æœŸ
            const currentDateElement = document.getElementById('currentDate');
            const currentDateMain = document.getElementById('currentDateMain');
            const today = new Date();
            const formattedDate = today.toLocaleDateString('zh-CN', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                weekday: 'long'
            });
            currentDateElement.textContent = formattedDate;
            currentDateMain.textContent = formattedDate;
            
            // è®¾ç½®è¡¨å•æ—¥æœŸä¸ºä»Šå¤©
            document.getElementById('date').valueAsDate = today;
            
            // åˆå§‹åŒ–å‘˜å·¥é€‰æ‹©æ¡†
            initEmployeeSelect();
            
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®
            loadRecords();
            checkLoginStatus();
            
            // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
            setupEventListeners();
            
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            updateStats();
            updateEmployeeSummary();
            updateSystemInfo();
            
            // è®¾ç½®æ ‡ç­¾é¡µåˆ‡æ¢
            setupTabs();
        });
        
        // è®¾ç½®æ ‡ç­¾é¡µåˆ‡æ¢
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.id.replace('tab', '');
                    
                    // ç§»é™¤æ‰€æœ‰activeç±»
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));
                    
                    // æ·»åŠ activeç±»åˆ°å½“å‰æ ‡ç­¾
                    this.classList.add('active');
                    document.getElementById(`tab${tabId}Content`).classList.add('active');
                });
            });
        }
        
        // åˆå§‹åŒ–å‘˜å·¥é€‰æ‹©æ¡†
        function initEmployeeSelect() {
            const employeeSelect = document.getElementById('employee');
            const filterEmployee = document.getElementById('filterEmployee');
            const selectEmployeeManage = document.getElementById('selectEmployeeManage');
            
            // æ¸…ç©ºç°æœ‰é€‰é¡¹ï¼ˆé™¤äº†ç¬¬ä¸€ä¸ªï¼‰
            while (employeeSelect.options.length > 1) {
                employeeSelect.remove(1);
            }
            
            if (filterEmployee) {
                while (filterEmployee.options.length > 1) {
                    filterEmployee.remove(1);
                }
            }
            
            if (selectEmployeeManage) {
                while (selectEmployeeManage.options.length > 1) {
                    selectEmployeeManage.remove(1);
                }
            }
            
            // æ·»åŠ å‘˜å·¥é€‰é¡¹
            employees.forEach(employee => {
                const option = document.createElement('option');
                option.value = employee;
                option.textContent = employee;
                employeeSelect.appendChild(option.cloneNode(true));
                
                if (filterEmployee) {
                    filterEmployee.appendChild(option.cloneNode(true));
                }
                
                if (selectEmployeeManage) {
                    selectEmployeeManage.appendChild(option.cloneNode(true));
                }
            });
        }
        
        // æ£€æŸ¥ç™»å½•çŠ¶æ€
        function checkLoginStatus() {
            const savedPassword = localStorage.getItem('salaryPassword');
            const loginTime = localStorage.getItem('loginTime');
            const now = Date.now();
            
            // å¦‚æœæ²¡æœ‰è®¾ç½®å¯†ç ï¼Œä½¿ç”¨é»˜è®¤å¯†ç 
            if (!savedPassword) {
                localStorage.setItem('salaryPassword', DEFAULT_PASSWORD);
            }
            
            // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•ï¼ˆç™»å½•çŠ¶æ€ä¿æŒ24å°æ—¶ï¼‰
            if (loginTime && (now - parseInt(loginTime)) < 24 * 60 * 60 * 1000) {
                isLoggedIn = true;
                showMainApp();
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯ç®¡ç†å‘˜
                const isAdmin = localStorage.getItem('isAdmin') === 'true';
                if (isAdmin) {
                    enterAdminMode();
                }
            } else {
                // æ¸…é™¤è¿‡æœŸçš„ç™»å½•çŠ¶æ€
                localStorage.removeItem('loginTime');
                localStorage.removeItem('isAdmin');
                isLoggedIn = false;
                isAdminMode = false;
                showLoginPage();
            }
        }
        
        // æ˜¾ç¤ºç™»å½•é¡µé¢
        function showLoginPage() {
            document.getElementById('loginPage').style.display = 'block';
            document.getElementById('mainApp').style.display = 'none';
            isLoggedIn = false;
            isAdminMode = false;
        }
        
        // æ˜¾ç¤ºä¸»åº”ç”¨
        function showMainApp() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            isLoggedIn = true;
            
            // æ˜¾ç¤ºç®¡ç†å‘˜æ¨¡å¼æŒ‰é’®
            document.getElementById('toggleAdminBtn').style.display = 'block';
        }
        
        // è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼
        function enterAdminMode() {
            isAdminMode = true;
            localStorage.setItem('isAdmin', 'true');
            
            // æ›´æ–°ç•Œé¢
            document.getElementById('toggleAdminBtn').textContent = 'é€€å‡ºç®¡ç†å‘˜æ¨¡å¼';
            document.getElementById('mainHeader').classList.add('admin-mode');
            document.getElementById('adminControls').style.display = 'flex';
            
            // æ˜¾ç¤ºé€šçŸ¥
            showNotification('success', 'ç®¡ç†å‘˜æ¨¡å¼å·²å¼€å¯', 'æ‚¨ç°åœ¨å¯ä»¥ç®¡ç†æ‰€æœ‰å‘˜å·¥è®°å½•ï¼ŒåŒ…æ‹¬åˆ é™¤æ“ä½œã€‚');
            
            // é‡æ–°æ˜¾ç¤ºè®°å½•ï¼ˆæ·»åŠ åˆ é™¤æŒ‰é’®ï¼‰
            displayRecords();
        }
        
        // é€€å‡ºç®¡ç†å‘˜æ¨¡å¼
        function exitAdminMode() {
            isAdminMode = false;
            localStorage.removeItem('isAdmin');
            
            // æ›´æ–°ç•Œé¢
            document.getElementById('toggleAdminBtn').textContent = 'è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼';
            document.getElementById('mainHeader').classList.remove('admin-mode');
            document.getElementById('adminControls').style.display = 'none';
            
            // æ˜¾ç¤ºé€šçŸ¥
            showNotification('info', 'ç®¡ç†å‘˜æ¨¡å¼å·²å…³é—­', 'æ‚¨å·²é€€å‡ºç®¡ç†å‘˜æ¨¡å¼ï¼Œç°åœ¨åªèƒ½æŸ¥çœ‹è®°å½•ã€‚');
            
            // é‡æ–°æ˜¾ç¤ºè®°å½•ï¼ˆç§»é™¤åˆ é™¤æŒ‰é’®ï¼‰
            displayRecords();
        }
        
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½è®°å½•
        function loadRecords() {
            const storedRecords = localStorage.getItem('salaryRecords');
            if (storedRecords) {
                records = JSON.parse(storedRecords);
                displayRecords();
            }
        }
        
        // ä¿å­˜è®°å½•åˆ°æœ¬åœ°å­˜å‚¨
        function saveRecords() {
            localStorage.setItem('salaryRecords', JSON.stringify(records));
            // æ›´æ–°æœ€åæ›´æ–°æ—¶é—´
            localStorage.setItem('lastUpdateTime', new Date().toISOString());
            updateSystemInfo();
        }
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // ç™»å½•æŒ‰é’®
            document.getElementById('loginBtn').addEventListener('click', function() {
                const password = document.getElementById('loginPassword').value;
                const savedPassword = localStorage.getItem('salaryPassword') || DEFAULT_PASSWORD;
                
                if (password === savedPassword) {
                    // ç™»å½•æˆåŠŸï¼Œä¿å­˜ç™»å½•æ—¶é—´
                    localStorage.setItem('loginTime', Date.now().toString());
                    isLoggedIn = true;
                    showMainApp();
                    
                    // æ˜¾ç¤ºç™»å½•æˆåŠŸé€šçŸ¥
                    showNotification('success', 'ç™»å½•æˆåŠŸ', 'æ¬¢è¿ä½¿ç”¨å‘˜å·¥å·¥èµ„å‘æ”¾æµæ°´è´¦ç³»ç»Ÿï¼');
                } else {
                    // ç™»å½•å¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯
                    document.getElementById('loginError').style.display = 'block';
                    
                    // æ˜¾ç¤ºç™»å½•å¤±è´¥é€šçŸ¥
                    showNotification('error', 'ç™»å½•å¤±è´¥', 'å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ï¼');
                }
            });
            
            // é€€å‡ºç™»å½•
            document.getElementById('logoutBtn').addEventListener('click', function() {
                localStorage.removeItem('loginTime');
                localStorage.removeItem('isAdmin');
                showLoginPage();
                
                // æ˜¾ç¤ºé€€å‡ºç™»å½•é€šçŸ¥
                showNotification('info', 'å·²é€€å‡ºç³»ç»Ÿ', 'æ‚¨å·²æˆåŠŸé€€å‡ºç³»ç»Ÿï¼Œæ¬¢è¿ä¸‹æ¬¡ä½¿ç”¨ï¼');
            });
            
            // åˆ‡æ¢ç®¡ç†å‘˜æ¨¡å¼
            document.getElementById('toggleAdminBtn').addEventListener('click', function() {
                if (!isAdminMode) {
                    // è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼éœ€è¦éªŒè¯å¯†ç 
                    pendingAction = 'enterAdmin';
                    showPasswordModal('è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼');
                } else {
                    // é€€å‡ºç®¡ç†å‘˜æ¨¡å¼
                    exitAdminMode();
                }
            });
            
            // è¡¨å•æäº¤
            document.getElementById('recordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveRecord();
            });
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('clearForm').addEventListener('click', function() {
                clearForm();
            });
            
            // åˆ é™¤æ‰€æœ‰è®°å½•
            document.getElementById('deleteAll').addEventListener('click', function() {
                if (records.length === 0) {
                    showNotification('warning', 'åˆ é™¤å¤±è´¥', 'å½“å‰æ²¡æœ‰è®°å½•å¯åˆ é™¤ã€‚');
                    return;
                }
                
                // è®¾ç½®å¾…æ‰§è¡Œæ“ä½œä¸ºåˆ é™¤æ‰€æœ‰
                pendingAction = 'deleteAll';
                showPasswordModal('æ¸…é™¤æ‰€æœ‰è®°å½•');
            });
            
            // å¯¼å‡ºæ•°æ®
            document.getElementById('exportData').addEventListener('click', function() {
                if (records.length === 0) {
                    showNotification('warning', 'å¯¼å‡ºå¤±è´¥', 'æ²¡æœ‰æ•°æ®å¯å¯¼å‡ºã€‚');
                    return;
                }
                
                // è®¾ç½®å¾…æ‰§è¡Œæ“ä½œä¸ºå¯¼å‡ºæ•°æ®
                pendingAction = 'exportData';
                showPasswordModal('å¯¼å‡ºæ•°æ®');
            });
            
            // æ›´æ–°å¯†ç 
            document.getElementById('updatePasswordBtn').addEventListener('click', updatePassword);
            
            // å¯†ç æ¨¡æ€æ¡†äº‹ä»¶
            document.getElementById('cancelAction').addEventListener('click', hidePasswordModal);
            document.getElementById('confirmAction').addEventListener('click', verifyPasswordForAction);
            
            // ç›‘å¬å¯†ç è¾“å…¥æ¡†å›è½¦é”®
            document.getElementById('modalPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyPasswordForAction();
                }
            });
            
            // ç›‘å¬ç™»å½•å¯†ç è¾“å…¥æ¡†å›è½¦é”®
            document.getElementById('loginPassword').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('loginBtn').click();
                }
            });
            
            // å‘˜å·¥ç­›é€‰
            document.getElementById('filterEmployee').addEventListener('change', function() {
                displayRecords();
            });
            
            document.getElementById('filterPeriod').addEventListener('change', function() {
                displayRecords();
            });
            
            // åˆ é™¤å‘˜å·¥è®°å½•
            document.getElementById('deleteEmployeeRecords').addEventListener('click', function() {
                const employee = document.getElementById('selectEmployeeManage').value;
                if (!employee) {
                    showNotification('warning', 'æ“ä½œå¤±è´¥', 'è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å‘˜å·¥ï¼');
                    return;
                }
                
                selectedEmployeeForDeletion = employee;
                document.getElementById('employeeToDelete').textContent = employee;
                document.getElementById('deleteConfirm').style.display = 'block';
            });
            
            // ç¡®è®¤åˆ é™¤å‘˜å·¥è®°å½•
            document.getElementById('confirmDeleteEmployee').addEventListener('click', function() {
                if (selectedEmployeeForDeletion) {
                    deleteEmployeeRecords(selectedEmployeeForDeletion);
                    document.getElementById('deleteConfirm').style.display = 'none';
                    selectedEmployeeForDeletion = null;
                }
            });
            
            // å–æ¶ˆåˆ é™¤å‘˜å·¥è®°å½•
            document.getElementById('cancelDeleteEmployee').addEventListener('click', function() {
                document.getElementById('deleteConfirm').style.display = 'none';
                selectedEmployeeForDeletion = null;
            });
            
            // å‘˜å·¥ç®¡ç†é€‰æ‹©
            document.getElementById('selectEmployeeManage').addEventListener('change', function() {
                const employee = this.value;
                if (employee) {
                    displayEmployeeRecords(employee);
                    document.getElementById('noEmployeeSelected').style.display = 'none';
                } else {
                    document.getElementById('employeeRecordsList').innerHTML = '';
                    document.getElementById('noEmployeeSelected').style.display = 'block';
                }
            });
        }
        
        // æ˜¾ç¤ºé€šçŸ¥å‡½æ•°
        function showNotification(type, title, message, details = null) {
            const notificationContainer = document.getElementById('notificationContainer');
            
            // åˆ›å»ºé€šçŸ¥å…ƒç´ 
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            // æ ¹æ®ç±»å‹è®¾ç½®å›¾æ ‡
            let icon = 'â„¹ï¸';
            if (type === 'success') icon = 'âœ…';
            else if (type === 'error') icon = 'âŒ';
            else if (type === 'warning') icon = 'âš ï¸';
            else if (type === 'info') icon = 'â„¹ï¸';
            
            // æ„å»ºé€šçŸ¥å†…å®¹
            let notificationContent = `
                <div class="notification-header">
                    <div class="notification-title">
                        <span class="notification-icon">${icon}</span>
                        ${title}
                    </div>
                    <button class="notification-close" onclick="this.parentElement.parentElement.classList.add('fade-out'); setTimeout(() => this.parentElement.parentElement.remove(), 300)">&times;</button>
                </div>
                <div class="notification-content">${message}</div>
            `;
            
            // å¦‚æœæœ‰è¯¦ç»†ä¿¡æ¯ï¼Œæ·»åŠ åˆ°é€šçŸ¥ä¸­
            if (details) {
                notificationContent += `
                <div class="notification-details">
                    ${details}
                </div>
                `;
            }
            
            // æ·»åŠ è¿›åº¦æ¡
            notificationContent += `
                <div class="notification-progress">
                    <div class="notification-progress-bar"></div>
                </div>
            `;
            
            notification.innerHTML = notificationContent;
            
            // æ·»åŠ åˆ°é€šçŸ¥å®¹å™¨
            notificationContainer.appendChild(notification);
            
            // 5ç§’åè‡ªåŠ¨ç§»é™¤é€šçŸ¥
            setTimeout(() => {
                notification.classList.add('fade-out');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // æ˜¾ç¤ºå¯†ç éªŒè¯æ¨¡æ€æ¡†
        function showPasswordModal(actionName) {
            document.getElementById('passwordModal').style.display = 'flex';
            document.getElementById('modalPassword').value = '';
            document.getElementById('modalError').style.display = 'none';
            document.getElementById('confirmAction').textContent = 'ç¡®è®¤' + actionName;
        }
        
        // éšè—å¯†ç éªŒè¯æ¨¡æ€æ¡†
        function hidePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
            pendingAction = null;
        }
        
        // éªŒè¯å¯†ç ä»¥æ‰§è¡Œæ“ä½œ
        function verifyPasswordForAction() {
            const password = document.getElementById('modalPassword').value;
            const savedPassword = localStorage.getItem('salaryPassword') || DEFAULT_PASSWORD;
            
            if (password === savedPassword) {
                // å¯†ç æ­£ç¡®ï¼Œæ‰§è¡Œæ“ä½œ
                if (pendingAction === 'deleteAll') {
                    deleteAllRecords();
                } else if (pendingAction === 'exportData') {
                    exportData();
                } else if (pendingAction === 'enterAdmin') {
                    enterAdminMode();
                }
                hidePasswordModal();
            } else {
                // å¯†ç é”™è¯¯
                document.getElementById('modalError').style.display = 'block';
                showNotification('error', 'å¯†ç é”™è¯¯', 'è¯·è¾“å…¥æ­£ç¡®çš„ç®¡ç†å‘˜å¯†ç ï¼');
            }
        }
        
        // ä¿å­˜å·¥èµ„è®°å½•
        function saveRecord() {
            // è·å–è¡¨å•æ•°æ®
            const date = document.getElementById('date').value;
            const employee = document.getElementById('employee').value;
            const amount = parseFloat(document.getElementById('amount').value);
            const payUnit = document.getElementById('payUnit').value;
            const description = document.getElementById('description').value;
            
            // éªŒè¯æ•°æ®
            if (!employee) {
                showNotification('warning', 'ä¿å­˜å¤±è´¥', 'è¯·é€‰æ‹©å‘˜å·¥ï¼');
                return;
            }
            
            if (isNaN(amount) || amount <= 0) {
                showNotification('warning', 'ä¿å­˜å¤±è´¥', 'è¯·è¾“å…¥æœ‰æ•ˆçš„å·¥èµ„é‡‘é¢ï¼');
                return;
            }
            
            // åˆ›å»ºæ–°è®°å½•å¯¹è±¡
            const record = {
                id: Date.now(),
                date: date,
                employee: employee,
                amount: amount,
                payUnit: payUnit,
                description: description,
                created: new Date().toISOString()
            };
            
            // æ·»åŠ æ–°è®°å½•
            records.push(record);
            
            // æŒ‰æ—¥æœŸæ’åºï¼ˆæœ€æ–°çš„åœ¨å‰é¢ï¼‰
            records.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveRecords();
            
            // æ›´æ–°æ˜¾ç¤º
            displayRecords();
            updateStats();
            updateEmployeeSummary();
            
            // æ ¼å¼åŒ–æ—¥æœŸ
            const formattedDate = new Date(date).toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            const details = `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘˜å·¥ï¼š</span>
                    <span class="notification-detail-value">${employee}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘æ”¾æ—¥æœŸï¼š</span>
                    <span class="notification-detail-value">${formattedDate}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘æ”¾å•ä½ï¼š</span>
                    <span class="notification-detail-value">${payUnitNames[payUnit] || payUnit}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å·¥èµ„é‡‘é¢ï¼š</span>
                    <span class="notification-detail-value notification-success-value">${amount.toFixed(2)} å…ƒ</span>
                </div>
                ${description ? `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å¤‡æ³¨ï¼š</span>
                    <span class="notification-detail-value">${description}</span>
                </div>
                ` : ''}
            `;
            
            showNotification('success', 'è®°å½•ä¿å­˜æˆåŠŸ', `å‘˜å·¥ ${employee} çš„å·¥èµ„è®°å½•å·²ä¿å­˜ï¼`, details);
            
            // æ¸…ç©ºè¡¨å•
            clearForm();
        }
        
        // æ¸…ç©ºè¡¨å•
        function clearForm() {
            document.getElementById('recordForm').reset();
            const today = new Date();
            document.getElementById('date').valueAsDate = today;
            document.getElementById('payUnit').value = 'month';
            document.getElementById('description').value = '';
        }
        
        // åˆ é™¤æ‰€æœ‰è®°å½•
        function deleteAllRecords() {
            const recordCount = records.length;
            records = [];
            saveRecords();
            displayRecords();
            updateStats();
            updateEmployeeSummary();
            
            // æ˜¾ç¤ºåˆ é™¤é€šçŸ¥
            showNotification('success', 'æ‰€æœ‰è®°å½•å·²åˆ é™¤', `æˆåŠŸåˆ é™¤äº† ${recordCount} æ¡å·¥èµ„è®°å½•ï¼`);
        }
        
        // åˆ é™¤å‘˜å·¥æ‰€æœ‰è®°å½•
        function deleteEmployeeRecords(employeeName) {
            // è·å–è¯¥å‘˜å·¥çš„è®°å½•æ•°é‡
            const employeeRecords = records.filter(record => record.employee === employeeName);
            const recordCount = employeeRecords.length;
            
            // è®¡ç®—è¯¥å‘˜å·¥çš„æ€»å·¥èµ„
            let totalAmount = 0;
            employeeRecords.forEach(record => {
                totalAmount += record.amount;
            });
            
            // è¿‡æ»¤æ‰è¯¥å‘˜å·¥çš„è®°å½•
            records = records.filter(record => record.employee !== employeeName);
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveRecords();
            
            // æ›´æ–°æ˜¾ç¤º
            displayRecords();
            updateStats();
            updateEmployeeSummary();
            
            // æ¸…ç©ºå‘˜å·¥ç®¡ç†ç•Œé¢
            document.getElementById('selectEmployeeManage').value = '';
            document.getElementById('employeeRecordsList').innerHTML = '';
            document.getElementById('noEmployeeSelected').style.display = 'block';
            
            // æ˜¾ç¤ºåˆ é™¤é€šçŸ¥
            const details = `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘˜å·¥ï¼š</span>
                    <span class="notification-detail-value">${employeeName}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">åˆ é™¤è®°å½•æ•°ï¼š</span>
                    <span class="notification-detail-value notification-danger-value">${recordCount} æ¡</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">æ€»å·¥èµ„é‡‘é¢ï¼š</span>
                    <span class="notification-detail-value notification-danger-value">${totalAmount.toFixed(2)} å…ƒ</span>
                </div>
            `;
            
            showNotification('success', 'å‘˜å·¥è®°å½•å·²åˆ é™¤', `æˆåŠŸåˆ é™¤å‘˜å·¥ ${employeeName} çš„æ‰€æœ‰å·¥èµ„è®°å½•ï¼`, details);
        }
        
        // åˆ é™¤å•æ¡è®°å½•
        function deleteRecord(recordId) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                return;
            }
            
            // æ‰¾åˆ°è®°å½•
            const index = records.findIndex(record => record.id === recordId);
            if (index === -1) {
                showNotification('error', 'åˆ é™¤å¤±è´¥', 'æœªæ‰¾åˆ°è¦åˆ é™¤çš„è®°å½•ï¼');
                return;
            }
            
            const record = records[index];
            
            // æ ¼å¼åŒ–æ—¥æœŸ
            const formattedDate = new Date(record.date).toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // åˆ é™¤è®°å½•
            records.splice(index, 1);
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveRecords();
            
            // æ›´æ–°æ˜¾ç¤º
            displayRecords();
            updateStats();
            updateEmployeeSummary();
            
            // æ˜¾ç¤ºåˆ é™¤é€šçŸ¥
            const details = `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘˜å·¥ï¼š</span>
                    <span class="notification-detail-value">${record.employee}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘æ”¾æ—¥æœŸï¼š</span>
                    <span class="notification-detail-value">${formattedDate}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å‘æ”¾å•ä½ï¼š</span>
                    <span class="notification-detail-value">${payUnitNames[record.payUnit] || record.payUnit}</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å·¥èµ„é‡‘é¢ï¼š</span>
                    <span class="notification-detail-value notification-danger-value">${record.amount.toFixed(2)} å…ƒ</span>
                </div>
                ${record.description ? `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">å¤‡æ³¨ï¼š</span>
                    <span class="notification-detail-value">${record.description}</span>
                </div>
                ` : ''}
            `;
            
            showNotification('success', 'è®°å½•åˆ é™¤æˆåŠŸ', `æˆåŠŸåˆ é™¤å‘˜å·¥ ${record.employee} çš„å·¥èµ„è®°å½•ï¼`, details);
        }
        
        // æ˜¾ç¤ºè®°å½•
        function displayRecords() {
            const recordsList = document.getElementById('recordsList');
            const emptyState = document.getElementById('emptyState');
            
            // è·å–ç­›é€‰æ¡ä»¶
            const filterEmployee = document.getElementById('filterEmployee')?.value || '';
            const filterPeriod = document.getElementById('filterPeriod')?.value || 'all';
            
            // ç­›é€‰è®°å½•
            let filteredRecords = records;
            
            // æŒ‰å‘˜å·¥ç­›é€‰
            if (filterEmployee) {
                filteredRecords = filteredRecords.filter(record => record.employee === filterEmployee);
            }
            
            // æŒ‰æ—¶é—´ç­›é€‰
            const today = new Date();
            if (filterPeriod !== 'all') {
                filteredRecords = filteredRecords.filter(record => {
                    const recordDate = new Date(record.date);
                    
                    if (filterPeriod === 'today') {
                        return recordDate.toDateString() === today.toDateString();
                    } else if (filterPeriod === 'week') {
                        const weekStart = new Date(today);
                        weekStart.setDate(today.getDate() - today.getDay());
                        weekStart.setHours(0, 0, 0, 0);
                        
                        const weekEnd = new Date(weekStart);
                        weekEnd.setDate(weekStart.getDate() + 6);
                        weekEnd.setHours(23, 59, 59, 999);
                        
                        return recordDate >= weekStart && recordDate <= weekEnd;
                    } else if (filterPeriod === 'month') {
                        return recordDate.getMonth() === today.getMonth() && 
                               recordDate.getFullYear() === today.getFullYear();
                    } else if (filterPeriod === 'year') {
                        return recordDate.getFullYear() === today.getFullYear();
                    }
                    return true;
                });
            }
            
            // å¦‚æœæ²¡æœ‰è®°å½•ï¼Œæ˜¾ç¤ºç©ºçŠ¶æ€
            if (filteredRecords.length === 0) {
                recordsList.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            // éšè—ç©ºçŠ¶æ€
            emptyState.style.display = 'none';
            
            // æŒ‰æ—¥æœŸåˆ†ç»„è®°å½•
            const groupedRecords = {};
            filteredRecords.forEach(record => {
                if (!groupedRecords[record.date]) {
                    groupedRecords[record.date] = [];
                }
                groupedRecords[record.date].push(record);
            });
            
            // ç”ŸæˆHTML
            let html = '';
            
            // éå†æ¯ä¸ªæ—¥æœŸç»„
            Object.keys(groupedRecords).sort().reverse().forEach(date => {
                const dateRecords = groupedRecords[date];
                let dateTotal = 0;
                
                // è®¡ç®—è¯¥æ—¥æœŸçš„æ€»å·¥èµ„
                dateRecords.forEach(record => {
                    dateTotal += record.amount;
                });
                
                // æ ¼å¼åŒ–æ—¥æœŸ
                const formattedDate = new Date(date).toLocaleDateString('zh-CN', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    weekday: 'long'
                });
                
                // æ·»åŠ æ—¥æœŸæ ‡é¢˜
                html += `
                <div class="date-group">
                    <div class="date-header">
                        <span>${formattedDate}</span>
                        <span class="date-total">å‘æ”¾å·¥èµ„æ€»é¢: ${dateTotal.toFixed(2)} å…ƒ</span>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>å‘˜å·¥</th>
                                <th>å‘æ”¾å•ä½</th>
                                <th>é‡‘é¢</th>
                                <th>å¤‡æ³¨</th>
                                <th>æ—¶é—´</th>
                                ${isAdminMode ? '<th>æ“ä½œ</th>' : ''}
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                // æ·»åŠ è¯¥æ—¥æœŸçš„æ¯æ¡è®°å½•
                dateRecords.forEach((record, index) => {
                    // æ ¼å¼åŒ–åˆ›å»ºæ—¶é—´
                    const createdTime = new Date(record.created).toLocaleTimeString('zh-CN', {
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    
                    // ç¡®å®šCSSç±»
                    let unitClass = 'type-paid';
                    if (record.payUnit === 'day') unitClass = 'type-day';
                    else if (record.payUnit === 'week') unitClass = 'type-week';
                    else if (record.payUnit === 'month') unitClass = 'type-month';
                    
                    html += `
                    <tr class="employee-row">
                        <td><strong>${record.employee}</strong></td>
                        <td>
                            <span class="salary-paid ${unitClass}">
                                ${payUnitNames[record.payUnit] || record.payUnit}
                            </span>
                        </td>
                        <td class="total-amount" style="color: #e74c3c">
                            ${record.amount.toFixed(2)}
                        </td>
                        <td>
                            ${record.description || '-'}
                            <div class="record-note">ID: ${record.id}</div>
                        </td>
                        <td>${createdTime}</td>
                        ${isAdminMode ? `
                        <td>
                            <div class="record-actions">
                                <button class="btn btn-sm btn-danger" onclick="deleteRecord(${record.id})">
                                    åˆ é™¤
                                </button>
                            </div>
                        </td>
                        ` : ''}
                    </tr>
                    `;
                });
                
                html += `
                        </tbody>
                    </table>
                </div>
                `;
            });
            
            recordsList.innerHTML = html;
        }
        
        // æ˜¾ç¤ºå‘˜å·¥è®°å½•
        function displayEmployeeRecords(employeeName) {
            const employeeRecordsList = document.getElementById('employeeRecordsList');
            
            // ç­›é€‰è¯¥å‘˜å·¥çš„è®°å½•
            const employeeRecords = records.filter(record => record.employee === employeeName);
            
            if (employeeRecords.length === 0) {
                employeeRecordsList.innerHTML = `
                    <div class="empty-state">
                        <h3>è¯¥å‘˜å·¥æš‚æ— å·¥èµ„å‘æ”¾è®°å½•</h3>
                        <p>å‘˜å·¥ ${employeeName} è¿˜æ²¡æœ‰ä»»ä½•å·¥èµ„è®°å½•</p>
                    </div>
                `;
                return;
            }
            
            // æŒ‰æ—¥æœŸæ’åºï¼ˆæœ€æ–°çš„åœ¨å‰é¢ï¼‰
            employeeRecords.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // è®¡ç®—è¯¥å‘˜å·¥çš„æ€»å·¥èµ„
            let totalSalary = 0;
            employeeRecords.forEach(record => {
                totalSalary += record.amount;
            });
            
            // ç”ŸæˆHTML
            let html = `
                <h3>å‘˜å·¥ ${employeeName} çš„å·¥èµ„è®°å½•</h3>
                <p><strong>æ€»å‘æ”¾å·¥èµ„ï¼š</strong> <span style="color: #e74c3c; font-weight: bold;">${totalSalary.toFixed(2)} å…ƒ</span></p>
                <p><strong>è®°å½•æ•°é‡ï¼š</strong> ${employeeRecords.length} æ¡</p>
                
                <table style="margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>å‘æ”¾æ—¥æœŸ</th>
                            <th>å‘æ”¾å•ä½</th>
                            <th>é‡‘é¢</th>
                            <th>å¤‡æ³¨</th>
                            <th>æ—¶é—´</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            employeeRecords.forEach(record => {
                // æ ¼å¼åŒ–åˆ›å»ºæ—¶é—´
                const createdTime = new Date(record.created).toLocaleTimeString('zh-CN', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                // æ ¼å¼åŒ–æ—¥æœŸ
                const formattedDate = new Date(record.date).toLocaleDateString('zh-CN', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // ç¡®å®šCSSç±»
                let unitClass = 'type-paid';
                if (record.payUnit === 'day') unitClass = 'type-day';
                else if (record.payUnit === 'week') unitClass = 'type-week';
                else if (record.payUnit === 'month') unitClass = 'type-month';
                
                html += `
                <tr>
                    <td>${formattedDate}</td>
                    <td>
                        <span class="salary-paid ${unitClass}">
                            ${payUnitNames[record.payUnit] || record.payUnit}
                        </span>
                    </td>
                    <td style="color: #e74c3c; font-weight: bold;">${record.amount.toFixed(2)}</td>
                    <td>${record.description || '-'}</td>
                    <td>${createdTime}</td>
                    <td>
                        <button class="btn btn-sm btn-danger" onclick="deleteRecord(${record.id})">
                            åˆ é™¤
                        </button>
                    </td>
                </tr>
                `;
            });
            
            html += `
                    </tbody>
                </table>
            `;
            
            employeeRecordsList.innerHTML = html;
        }
        
        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            // è·å–ä»Šå¤©çš„æ—¥æœŸå­—ç¬¦ä¸²
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const currentMonth = today.getMonth() + 1;
            const currentYear = today.getFullYear();
            
            let totalSalary = 0;
            let todaySalary = 0;
            let monthSalary = 0;
            
            // è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
            records.forEach(record => {
                totalSalary += record.amount;
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©
                if (record.date === todayStr) {
                    todaySalary += record.amount;
                }
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯æœ¬æœˆ
                const recordDate = new Date(record.date);
                if (recordDate.getMonth() + 1 === currentMonth && recordDate.getFullYear() === currentYear) {
                    monthSalary += record.amount;
                }
            });
            
            // æ›´æ–°ç»Ÿè®¡
            document.getElementById('totalSalary').textContent = totalSalary.toFixed(2);
            document.getElementById('monthSalary').textContent = monthSalary.toFixed(2);
            
            // è®¡ç®—å¹³å‡å·¥èµ„å’Œå‘˜å·¥æ•°é‡
            const employeeSet = new Set();
            records.forEach(record => {
                employeeSet.add(record.employee);
            });
            
            const employeeCount = employeeSet.size;
            const avgSalary = records.length > 0 ? totalSalary / records.length : 0;
            
            document.getElementById('employeeCount').textContent = employeeCount;
            document.getElementById('avgSalary').textContent = avgSalary.toFixed(2);
        }
        
        // æ›´æ–°å‘˜å·¥å·¥èµ„æ±‡æ€»
        function updateEmployeeSummary() {
            const employeeTotals = {};
            
            // ç»Ÿè®¡æ¯ä¸ªå‘˜å·¥çš„å·¥èµ„æ€»é¢
            records.forEach(record => {
                if (employeeTotals[record.employee] !== undefined) {
                    employeeTotals[record.employee] += record.amount;
                } else {
                    employeeTotals[record.employee] = record.amount;
                }
            });
            
            // ç”Ÿæˆå‘˜å·¥æ±‡æ€»HTML
            let html = '';
            
            // æŒ‰å·¥èµ„æ€»é¢æ’åº
            const sortedEmployees = Object.keys(employeeTotals).sort((a, b) => {
                return employeeTotals[b] - employeeTotals[a];
            });
            
            sortedEmployees.forEach(employee => {
                if (employeeTotals[employee] > 0) {
                    html += `
                    <div class="employee-item" onclick="filterByEmployee('${employee}')">
                        <div class="employee-name">${employee}</div>
                        <div class="employee-salary">${employeeTotals[employee].toFixed(2)} å…ƒ</div>
                    </div>
                    `;
                }
            });
            
            // å¦‚æœæ²¡æœ‰æ•°æ®ï¼Œæ˜¾ç¤ºæç¤º
            if (html === '') {
                html = '<div style="text-align:center;color:#95a5a6;padding:10px;grid-column:1/-1;">æš‚æ— å·¥èµ„å‘æ”¾è®°å½•</div>';
            }
            
            document.getElementById('employeeSummary').innerHTML = html;
        }
        
        // æŒ‰å‘˜å·¥ç­›é€‰
        function filterByEmployee(employee) {
            // åˆ‡æ¢åˆ°è®°å½•ç®¡ç†æ ‡ç­¾
            document.getElementById('tabRecords').click();
            
            // è®¾ç½®ç­›é€‰æ¡ä»¶
            document.getElementById('filterEmployee').value = employee;
            
            // æ˜¾ç¤ºè®°å½•
            displayRecords();
            
            // æ˜¾ç¤ºç­›é€‰é€šçŸ¥
            showNotification('info', 'ç­›é€‰å·²åº”ç”¨', `å½“å‰ä»…æ˜¾ç¤ºå‘˜å·¥ ${employee} çš„è®°å½•`);
        }
        
        // æ›´æ–°ç³»ç»Ÿä¿¡æ¯
        function updateSystemInfo() {
            document.getElementById('totalRecords').textContent = records.length;
            
            // è®¡ç®—æ•°æ®å¤§å°
            const data = JSON.stringify(records);
            const dataSize = new Blob([data]).size;
            document.getElementById('dataSize').textContent = (dataSize / 1024).toFixed(2) + ' KB';
            
            // è·å–æœ€åæ›´æ–°æ—¶é—´
            const lastUpdateTime = localStorage.getItem('lastUpdateTime');
            if (lastUpdateTime) {
                const lastUpdate = new Date(lastUpdateTime);
                document.getElementById('lastUpdate').textContent = lastUpdate.toLocaleString('zh-CN');
            } else {
                document.getElementById('lastUpdate').textContent = 'æš‚æ— ';
            }
        }
        
        // æ›´æ–°å¯†ç 
        function updatePassword() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            if (!newPassword || !confirmPassword) {
                showNotification('warning', 'æ›´æ–°å¤±è´¥', 'è¯·è¾“å…¥æ–°å¯†ç å¹¶ç¡®è®¤ï¼');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('error', 'æ›´æ–°å¤±è´¥', 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´ï¼');
                return;
            }
            
            if (newPassword.length < 6) {
                showNotification('warning', 'æ›´æ–°å¤±è´¥', 'å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½ï¼');
                return;
            }
            
            // ä¿å­˜æ–°å¯†ç 
            localStorage.setItem('salaryPassword', newPassword);
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmNewPassword').value = '';
            
            // æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
            showNotification('success', 'å¯†ç æ›´æ–°æˆåŠŸ', 'ç³»ç»Ÿå¯†ç å·²æˆåŠŸæ›´æ–°ï¼');
        }
        
        // å¯¼å‡ºæ•°æ®
        function exportData() {
            // åˆ›å»ºCSVå†…å®¹
            let csvContent = "data:text/csv;charset=utf-8,\uFEFF";
            csvContent += "å‘æ”¾æ—¥æœŸ,å‘˜å·¥,å‘æ”¾å•ä½,å·¥èµ„é‡‘é¢,å¤‡æ³¨è¯´æ˜,è®°å½•ID,åˆ›å»ºæ—¶é—´\n";
            
            records.forEach(record => {
                const row = [
                    record.date,
                    record.employee,
                    payUnitNames[record.payUnit] || record.payUnit,
                    record.amount,
                    record.description || '',
                    record.id,
                    new Date(record.created).toLocaleString('zh-CN')
                ];
                csvContent += row.map(item => `"${item}"`).join(",") + "\n";
            });
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            const exportDate = new Date().toISOString().split('T')[0];
            link.setAttribute("download", `å‘˜å·¥å·¥èµ„å‘æ”¾è®°å½•_${exportDate}.csv`);
            document.body.appendChild(link);
            
            // è§¦å‘ä¸‹è½½
            link.click();
            document.body.removeChild(link);
            
            // æ˜¾ç¤ºå¯¼å‡ºé€šçŸ¥
            const details = `
                <div class="notification-detail-row">
                    <span class="notification-detail-label">æ–‡ä»¶åï¼š</span>
                    <span class="notification-detail-value">å‘˜å·¥å·¥èµ„å‘æ”¾è®°å½•_${exportDate}.csv</span>
                </div>
                <div class="notification-detail-row">
                    <span class="notification-detail-label">è®°å½•æ•°é‡ï¼š</span>
                    <span class="notification-detail-value">${records.length} æ¡</span>
                </div>
            `;
            
            showNotification('success', 'æ•°æ®å¯¼å‡ºæˆåŠŸ', 'å·¥èµ„æ•°æ®å·²æˆåŠŸå¯¼å‡ºä¸ºCSVæ–‡ä»¶ï¼', details);
        }
    </script>
</body>
</html>